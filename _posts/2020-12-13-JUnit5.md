---
title: JUnit 5
date: 2020-12-12 00:00:00
categories:
- Java
tags:
- JUnit5
- TDD
- Java
---

# JUnit 5

## JUnit5ë€ ë¬´ì—‡ì¸ê°€?

Juntiì€ ì´ì „ Junitê³¼ ë‹¬ë¦¬, 3ê°œì˜ ë‹¤ë¥¸ ì„œë¸Œ í”„ë¡œì íŠ¸ë¡œë¶€í„° ê°ê¸° ë‹¤ë¥¸ ëª¨ë“ˆë“¤ë¡œ êµ¬ì„±ë˜ì–´ìˆë‹¤.

> ***JUnit 5 = Junit Platform + JUnit Jupiter + Junit Vintage***

Java 8ë¶€í„° ì§€ì›

### Junit Platform

Junit Platformì€ JVM í™˜ê²½ì—ì„œ í…ŒìŠ¤íŒ… í”„ë ˆì„ì›Œí¬ë¥¼ ì‹¤í–‰(launch)í•˜ê¸° ìœ„í•œ ê¸°ì´ˆì´ë‹¤. ë˜í•œ í”Œë«í¼ì—ì„œ ê°€ë™ë˜ëŠ” í…ŒìŠ¤íŒ… í”„ë ˆì„ì›Œí¬ë¥¼ ê°œë°œí•˜ê¸° ìœ„í•œ `TestEngine` APIë¥¼ ì •ì˜í•œë‹¤. ë” ë‚˜ì•„ê°€, í”Œë«í¼ì€ Command Lineìœ¼ë¡œ í”Œë«í¼ì„ êµ¬ë™í•  ìˆ˜ ìˆëŠ” `Console Launcher` ì™€ Junit 4 ê¸°ë°˜ í™˜ê²½ì—ì„œì˜ í”Œë«í¼ì—ì„œë„ ê°€ë™í•  ìˆ˜ ìˆëŠ” Test Engineì„ ì œê³µí•œë‹¤.

### Junit Jupiter

Junit JupiterëŠ” í…ŒìŠ¤íŠ¸ ê°œë°œ ëª¨ë¸ê³¼ ìƒˆë¡œìš´ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ê¸° ìœ„í•œ í™•ì¥ ëª¨ë¸ë¡œ êµ¬ì„±ëœë‹¤. Jupiterì˜ í•˜ìœ„ í”„ë¡œì íŠ¸ëŠ” í”Œë«í¼ì—ì„œ Jupiter ê¸°ë°˜ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•œ `TestEngine`ì„ ì œê³µí•œë‹¤.

### Junit Vintage

Junit VintageëŠ” JUnit 3ê³¼ JUnit 4 ê¸°ë°˜ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•  ë•Œ `TestEngine` ì„ ì œê³µí•œë‹¤.

### ì‚¬ìš©í•´ë³´ê¸°

Intelliì˜ Spring Initializerë¡œ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•˜ë©´ `spring-boot-starter-test` ë•Œë¬¸ì— Junitì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

ê°„ë‹¨í•œ í…ŒìŠ¤íŠ¸ìš© í´ë˜ìŠ¤ë¥¼ ì‘ì„±í•œ ë’¤, í…ŒìŠ¤íŠ¸ë¥¼ í•´ë³´ì•˜ë‹¤!

[https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FrcnbC%2FbtqP4kHxeAm%2FAKa7sQTSBipbYxcM1NhMSk%2Fimg.png](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FrcnbC%2FbtqP4kHxeAm%2FAKa7sQTSBipbYxcM1NhMSk%2Fimg.png)

```java
public class Calculator {
    public int add(int a, int b) {
        return a + b;
    }
}
```

```java
package com.example.junit5test.Calculator;

import org.junit.jupiter.api.Test;

import static org.junit.jupiter.api.Assertions.assertEquals;

public class MyFirstJUnitJupiterTest {

    private final Calculator calculator = new Calculator();

    @Test
    void addition() {
        assertEquals(2, calculator.add(1, 1));
    }

}
```

## Annotation

ëŒ€ë¶€ë¶„ì˜ ì¤‘ìš”í•œ ì–´ë…¸í…Œì´ì…˜ì€ `junit-jupiter-api` ëª¨ë“ˆì— ìˆëŠ” `org.junit.jupiter.api` íŒ¨í‚¤ì§€ì— ìˆë‹¤.

[Annotation](https://www.notion.so/fb370e0cb4e54863aa970bb8f4e6db41)

### Meta-Annotations and Composed Annotations (ì‚¬ìš©ì ì •ì˜ ì–´ë…¸í…Œì´ì…˜)

JUnit Jupiter ì–´ë…¸í…Œì´ì…˜ì€ **ë©”íƒ€ ì–´ë…¸í…Œì´ì…˜**ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì¦‰ ìë™ìœ¼ë¡œ ë©”íƒ€ ì–´ë…¸í…Œì´ì…˜ì˜ ì˜ë¯¸ë“¤ì„ ìƒì†í•˜ëŠ” ì‚¬ìš©ì ì •ì˜ ì–´ë…¸í…Œì´ì…˜ì„ ìƒì„±í•  ìˆ˜ ìˆë‹¤!

**Fast Annotation**

```java
package com.example.junit5test.Meta;
import org.junit.jupiter.api.Tag;

import java.lang.annotation.ElementType;
import java.lang.annotation.Retention;
import java.lang.annotation.RetentionPolicy;
import java.lang.annotation.Target;

@Target({ElementType.TYPE, ElementType.METHOD})
@Retention(RetentionPolicy.RUNTIME)
@Tag("fast")
public @interface Fast {
}
```

- `@Tag("fast")`ë¥¼ `@FAST`ë¡œ ëŒ€ì‹  ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤
- `@inteface`  : ì»¤ìŠ¤í…€ ì–´ë…¸í…Œì´ì…˜ì„ ì •ì˜í•  ë•Œ ì‚¬ìš©í•œë‹¤.
- `@Target` : ì–´ë…¸í…Œì´ì…˜ì„ ì ìš©í•  ìˆ˜ ìˆëŠ” ëŒ€ìƒ(ìœ„ì¹˜)ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤. Targetì— ì„ ì–¸ëœ ëŒ€ìƒê³¼ ë‹¤ë¥¸ ëŒ€ìƒì— ì–´ë…¸í…Œì´ì…˜ì„ ì ìš©í•  ê²½ìš° ì»´íŒŒì¼ ì—ëŸ¬ ë°œìƒ
- `@Retention` : ì–´ë…¸í…Œì´ì…˜ì´ ì–´ë–¤ ì‹œì ê¹Œì§€ ìœ ì§€ ë˜ëŠ”ì§€ ì•Œ ìˆ˜ ìˆë‹¤.
  - SOURCE : ì»´íŒŒì¼ ì‹œì ì— ì»´íŒŒì¼ëŸ¬ì— ì˜í•´ ì œê±°. ì¦‰ javaíŒŒì¼ ë‚´ì—ì„œë§Œ ì ìš©
  - CLASS : SOURCE ë¿ë§Œ ì•„ë‹ˆë¼ classíŒŒì¼ ê¹Œì§€ ì ìš©ë¨
  - RUNTIME : SOURCE, CLASSë¿ë§Œ ì•„ë‹ˆë¼ JVMì—ì„œ ì‹¤í–‰ë  ë•Œë„ ì ìš©ëœë‹¤. ë¦¬í”Œë ‰ì…˜ìœ¼ë¡œ ì–´ë…¸í…Œì´ì…˜ ì¡°íšŒ ê°€ëŠ¥.

**Test Annotation**

```java
@Fast
@Test
void myFastTest() {
}
```

**@Fastì™€ @Test ì„ì€ @FastTestë¡œ ì„ ì–¸ ê°€ëŠ¥**

```java
@FastTest
void myFastTest() {
}
```

### Test Classes and Methods

- **Test Class**

  ìµœì†Œ í•œ ê°œ ì´ìƒì˜ í…ŒìŠ¤íŠ¸ ë©”ì„œë“œë¥¼ í¬í•¨í•˜ê³  ìˆëŠ” ìµœìƒìœ„ í´ë˜ìŠ¤, `static` ë©¤ë²„ í´ë˜ìŠ¤, `@Nested` í´ë˜ìŠ¤

- **Test Method**

  `@Test`, `@RepeatedTest`, `@ParameterizedTest`, `@TestFactory`, `@TestTemplate` ë¡œ ì„ ì–¸ëœ ë©”ì„œë“œ

- **Lifecycle Method**

  `@BeforeAll`, `@AfterAll`, `@BeforeEach`, `@AfterEach` ë¡œ ì„ ì–¸ëœ ë©”ì„œë“œ

### Display Names

`@DisplayName`ì„ í†µí•´ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì™€ ë©”ìŠ¤ë“œëŠ” ì»¤ìŠ¤í…€ ë””ìŠ¤í”Œë ˆì´ ë„¤ì„ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤. ê³µë°±, íŠ¹ìˆ˜ë¬¸ì, ì´ëª¨ì§€ ê¹Œì§€ ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤!

```java
package com.example.junit5test.DisplayName;

import org.junit.jupiter.api.DisplayName;
import org.junit.jupiter.api.Test;

@DisplayName("Display Name DemoğŸ¤“")
public class DisplayNameDemo {
    @Test
    @DisplayName("ê³µë°± ê³µë°± ê³µë°± ")
    void testWithDisplayNameContainingSpaces() {
    }

    @Test
    @DisplayName("â•¯Â°â–¡Â°ï¼‰â•¯")
    void testWithDisplayNameContainingSpecialCharacters() {
    }

    @Test
    @DisplayName("ğŸ„")
    void testWithDisplayNameContainingEmoji() {
    }

}
```

### â­ï¸Assertions

JUnit JuptierëŠ” JUnit 4ì—ì„œ ì‚¬ìš©í•˜ë˜ assertion ë©”ì„œë“œë¥¼ í¬í•¨í•˜ê³  Java 8 ëŒë‹¤ì—ë„ ì˜ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œë” ëª‡ê°€ì§€ë¥¼ ë” ì¶”ê°€í•˜ì˜€ë‹¤. ëª¨ë“  JUnit Jupiter assertionì€ `org.junit.jupiter.api.Assertions`ì— ìˆëŠ” `static` ë©”ì„œë“œì´ë‹¤.

Assertion, ì¦‰ ë‹¨ì •ë¬¸ì€ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸ì—ì„œ ê²€ì¦í•˜ê³ ì í•˜ëŠ” ë‚´ìš©ì„ í™•ì¸í•œë‹¤. í…ŒìŠ¤íŠ¸ê°€ ì¡°ê±´ì— ë§ì§€ ì•Šë‹¤ë©´ ì—ëŸ¬ë¥¼ ë˜ì§„ë‹¤.

[Assertions Methods](https://www.notion.so/72c0ef81895a4f60ac65d1a27e6624d4)

ì‹¤ìŠµ

```java
package com.example.Assertions;

import com.example.junit5test.Cal.Calculator;
import com.example.junit5test.Person.Person;
import org.junit.jupiter.api.DisplayName;
import org.junit.jupiter.api.Test;

import static org.junit.jupiter.api.Assertions.*;

public class AssertionsDemo {
    private final Calculator calculator = new Calculator();
    private final Person person = new Person("Jane" , "Doe");

    @Test
    @DisplayName("Calculator Test")
    void standrdAssertions() {
        assertEquals(2, calculator.add(1, 1));
        assertEquals(6, calculator.multiply(3, 2) ,
                "The optional failure message is now the last parameter");
        assertTrue('a' < 'b', () -> "Assertion messages can be lazily evaluated --" +
                "to avoid constructing complex messages unnecessarily.");
    }

    @Test
    @DisplayName("Person Test - group")
    void groupAssertions() {
        assertAll("person",
                () -> assertEquals("Jane", person.getFirstName()),
                () -> assertEquals("Doe", person.getLastName())
        );
    }

    @Test
    @DisplayName("Person Test - dependent")
    void dependentAssertions() {
        assertAll("properties",
                () -> {
                    String firstName = person.getFirstName();
                    assertNotNull(firstName);
                    assertAll("first name",
                            () -> assertTrue(firstName.startsWith("J")),
                            () -> assertTrue(firstName.endsWith("e"))
                    );
                },
                () -> {
                    String lastName = person.getLastName();
                    assertNotNull(lastName);
                    assertAll("last name",
                            () -> assertTrue(lastName.startsWith("D")),
                            () -> assertTrue(lastName.endsWith("e"))
                    );
                }
        );
    }
}
```

### Third Party Libraries

`AssertJ`, `Hamcrest`, `Truth`

### Assumptions

Assertionsì™€ ë§ˆì°¬ê°€ì§€ë¡œ, JUnit JuptierëŠ” JUnit 4ì—ì„œ ì‚¬ìš©í•˜ë˜ Assumption ë©”ì„œë“œë¥¼ í¬í•¨í•˜ê³  Java 8 ëŒë‹¤ì—ë„ ì˜ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œë” ëª‡ê°€ì§€ë¥¼ ë” ì¶”ê°€í•˜ì˜€ë‹¤. ëª¨ë“  JUnit Jupiter assumptionì€ `org.junit.jupiter.api.Assumptions`ì— ìˆëŠ” `static` ë©”ì„œë“œì´ë‹¤.

[Assumption Methods](https://www.notion.so/42e435df53674f408df64224e6bf813c)

- ì¶œì²˜
  - [https://lee1535.tistory.com/116](https://lee1535.tistory.com/116)
  - [https://junit.org/junit5/docs/current/user-guide/](https://junit.org/junit5/docs/current/user-guide/)
  - [https://hongsii.github.io/2018/12/12/java-annotation/](https://hongsii.github.io/2018/12/12/java-annotation/)
  - [https://minkukjo.github.io/framework/2020/03/07/JUnit-04/](